<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script type="text/javascript" src="jquery.3.2.1.min.js"></script>
    <style type="text/css">
        #box1{margin: 3px;width: 50px;height: 50px;
            position: absolute;left: 10px;top: 30px;
            background:yellow;}
        #box1.red{background:red;}
        #box2{margin: 3px; width: 40px; height: 40px;
            position: absolute;left: 0px;top: 60px;
            background-color: green;display: none;}
        #box3{ margin:3px; width:40px; height:40px;
    position:absolute; left:0px; top:30px;
    background:green; display:none; }
        #box3.newcolor{background-color: blue;}
        p{color: red;}
    </style>
</head>
<body>
<button id="#btn1">开始</button>
<div id="box1"></div>
<br/><br/><br/>
<p class="p1">结果：</p>
<p>队列长度是：<span></span></p>
<div id="box2"></div>
<button id="start">开始</button>
<button id="stop">停止</button>
<div id="box3"></div>
<script>
    $("#btn1").click(function(){
        $("#box1").animate({left:'+=200px'},2000);
        $("#box1").animate({top:'0px'}, 600);
        $("#box1").queue(function(){
            $(this).toggleClass("red");
            $(this).dequeue();
        });
        $("#box1").animate({left:'0px',top:'30px'},700);
    });
    $(function(){
        var $p = jQuery(".p1"), p = $p[0];
        $p.append(jQuery.hasData(p)+" "); /*false*/
        jQuery.data(p, "testing", 123);
        $p.append(jQuery.hasData(p)+" ");  /*true*/
        jQuery.removeData(p, "testing");
        $p.append(jQuery.hasData(p)+" ");  /*false*/
    });

    var div=$("#box2");

function runIt(){
        div.show("slow");
        div.animate({left:'+=200'},2000);
        div.slideToggle(1000);
        div.slideToggle("fast");
        div.animate({left:'-=200'},1500);
        div.hide("slow");
        div.show(1200);
        div.slideUp("normal", runIt);
}

function showIt(){
    var n = div.queue("fx");
    $("span").text(n.length);
    setTimeout(showIt, 100);
}
runIt();
showIt();
$("#start").click(function () {
  $("#box3").show("slow");
  $("#box3").animate({left:'+=200'},5000);
  $("#box3").queue(function () {
    $(this).addClass("newcolor");
    $(this).dequeue();
  });
  $("#box3").animate({left:'-=200'},1500);
  $("#box3").queue(function () {
    $(this).removeClass("newcolor");
    $(this).dequeue();
  });
  $("#box3").slideUp();
});
$("#stop").click(function () {
  $("#box3").clearQueue();
  $("#box3").stop();
});
</script>

</body>
</html>