<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <style type="text/css">
        div{margin: 3px; width: 40px; height: 40px;
            position: absolute;left: 0px;top: 60px;
            background-color: green;display: none;}
            div.newcolor{background-color: blue;}
            p{color: red;}
    </style>
    <script type="text/javascript" src="jquery.3.2.1.min.js"></script>
</head>
<body>

<p>队列长度是：<span></span></p>
<div></div>

<script>
var div=$("div");

function runIt(){
        div.show("slow");
        div.animate({left:'+=200'},2000);
        div.slideToggle(1000);
        div.slideToggle("fast");
        div.animate({left:'-=200'},1500);
        div.hide("slow");
        div.show(1200);
        div.slideUp("normal", runIt);
}

function showIt(){
    var n = div.queue("fx");
    $("span").text(n.length);
    setTimeout(showIt, 100);
}
runIt();
showIt();
</script>
</body>
</html>